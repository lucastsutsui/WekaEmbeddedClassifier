//
// #include <Arduino.h>
// #include <math.h>
//
// #define INPUT_SIZE 64
// #define NUM_CLASSES 4
// #define SELECTED_ATT_SIZE 64
// #define NUM_PREDICTORS 64
// #define CLASS_INDEX 64
//
// /* Instance array must be global
//  * Attributes MUST be sorted in instance array in the following order:
//  * mean_vel
//  * std_vel
//  * temp_ste
//  * temp_mag
//  * temp_roms
//  * temp_mean
//  * temp_tc
//  * temp_zcr
//  * temp_itv
//  * temp_var
//  * temp_std
//  * temp_skewness
//  * temp_kurtosis
//  * temp_ce
//  * temp_ce_norm
//  * temp_crest
//  * temp_max2min
//  * temp_mag2rms
//  * temp_rms2
//  * temp_rssl
//  * temp_mnp
//  * temp_adp
//  * temp_ety
//  * temp_md
//  * temp_iqr2
//  * spec_f0
//  * spec_ste
//  * spec_mag
//  * spec_sc
//  * spec_si
//  * spec_sim
//  * spec_sfm
//  * spec_flux
//  * spec_sro
//  * spec_var
//  * spec_std
//  * spec_skw
//  * spec_kts
//  * spec_max2min
//  * spec_mag2rms
//  * spec_mnp
//  * spec_adp
//  * spec_ety
//  * spec_cov1
//  * spec_cov2
//  * spec_cov3
//  * spec_peaks1
//  * spec_peaks2
//  * spec_peaks3
//  * spec_peaks4
//  * spec_peaks5
//  * spec_peaks6
//  * spec_peaks7
//  * spec_peaks8
//  * spec_peaks9
//  * spec_peaks10
//  * spec_peaks11
//  * spec_peaks12
//  * spec_power1
//  * spec_power2
//  * spec_power3
//  * spec_power4
//  * spec_power5
//  * spec_iqr2
//  */
// float instance[INPUT_SIZE+1];
// const float m_Par[65][3] = {{-5917.951522597893, 3685.983878102427, 3684.0508110875085}, {-420.33198148849675, 1170.0620416204222, 1175.1346620351883}, {337.5781029894676, 745.7972808805179, 744.1943939770426}, {199.51314666238562, 1134.196357403217, 693.1808391734509}, {-4845.508511179445, 1787.2496820417596, 1849.9894765554263}, {-26.768395890547346, -1015.3838010802677, -1222.768128834904}, {-648.2991008492446, -384.7578674897664, -383.864792003053}, {282.90807830757024, 285.486294854876, 280.0357293574944}, {-2150.423858523113, -328.5033732114945, -321.31875185307393}, {-1166.91167206246, -398.1476825488915, -394.6489138639565}, {199.5207752259696, 1134.8489279506791, 692.5203288823177}, {-26.76392421557091, -1014.9906965055142, -1223.1659072007594}, {3705.7215177070766, -3172.1174557719187, -3179.0896902525665}, {-4096.446733700452, 3036.7341145199493, 3039.129845834234}, {3429.7711834148304, -724.3635010079929, -33.62387400127998}, {3437.2743614300466, -12.60041955227388, -753.2546394841507}, {5760.534949095491, -2440.9653423402033, -2460.3602942162756}, {-1166.911721224685, -398.14768043176895, -394.6489092011987}, {-1883.329264009376, 1796.469909712083, 1799.2879960591197}, {-26.768411809405446, -1015.3837771751131, -1222.768127753902}, {-31.234489970828648, -1407.6931308643916, -825.7966213983804}, {-4634.402770945203, 2379.071880924882, 2401.5850315039934}, {-4416.69309003116, 2620.340883456677, 2643.5877105571526}, {3591.231754606211, -986.7064743351629, -987.9971505189152}, {-335.12948145675324, -719.6473059801376, -714.7735778184145}, {1530.9671886969963, -1083.224096901974, -1068.0013768457259}, {-19.955989236198356, -20.673722398288106, -20.108402384588448}, {1353.8053284288576, -128.03964256363255, -136.68703914673978}, {468.6820156855421, -383.5379852484204, -397.22173450492966}, {76.84117160508777, 1221.3470488407079, 1217.6413076696824}, {2801.73940692936, -1821.477355209416, -1821.4067973905958}, {5515.991437704805, -2285.294024738702, -2297.7200467591315}, {-547.8593727107816, -232.48186863364907, -232.4776614037296}, {-3929.9328828238476, 1429.813280626955, 1433.7295811526042}, {262.79920737421236, -366.6423793804907, -363.7793254392541}, {-4252.671705068606, 2909.497057729679, 2985.093425321107}, {7324.883713521017, -5011.594902047492, -5065.35695474234}, {-2130.949922437416, -485.8213874754326, -480.1920889228798}, {-2046.6346566987384, 1050.941454325224, 1042.8975306794334}, {-1427.344997038604, 317.6794856612102, 315.6636821110468}, {2789.1582290459537, -1132.1295091771449, -1131.2033204365973}, {1545.5424013440354, -961.7966365813136, -962.3752331505589}, {1355.0583863215234, -1169.806376893411, -1171.053113291751}, {599.9733596833144, -676.0642056247434, -678.2105707608591}, {191.8739738482902, 483.6657663713473, 1351.6471292615015}, {118.0445978214054, -70.51297632834269, -69.72374484896297}, {1070.1699080789504, 1291.1249966090588, 1289.3340780910894}, {-839.2646041100109, -370.15393843456246, -369.952261512856}, {889.0394480639161, 227.19877461601214, 230.6358669777363}, {-183.817569403599, 46.83933444559789, 44.66566939726629}, {710.7893746208277, 116.25228205151049, 117.08846597375307}, {-500.00352315438363, -209.28239110830057, -209.11380609716093}, {167.9002165082514, 363.06939157922454, 362.3997971959708}, {4837.742331193834, 4056.9108387764786, 4055.7056066568925}, {4068.7600129915454, 3426.234513113697, 3428.7524409731955}, {2404.2293647804163, 2151.0841430656988, 2154.1552850693038}, {2015.5434813605705, 2877.4804357409557, 2881.2623151969897}, {1780.4828013861577, 1306.327148711982, 1309.109169590409}, {1875.378213777262, 1457.70836130944, 1460.8053898844464}, {-2149.1125565849193, -1999.9578946249328, -2019.6905328695095}, {-3858.103839295419, -4208.649897052624, -4218.270537135702}, {522.1422991454185, 719.1974210618703, 718.6835516399339}, {3736.925922881244, 3195.6615563461837, 3189.644497251793}, {912.5659658926398, 1262.4013970885271, 1260.299931478754}, {-742.099743719634, 460.342062195462, 464.7472632575781}};
// const int m_SelectedAttributes[65] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64};
//
// /* Function classify description:
//  * Instance array must be initializated, with appropriated attributes, before calling this function
//  * Output number 0 means that the instance was classified as ruim
//  * Output number 1 means that the instance was classified as regular
//  * Output number 2 means that the instance was classified as bom
//  * Output number 3 means that the instance was classified as obstaculos
//  */
// int classify(){
// 	float prob[NUM_CLASSES];
// 	float newInstance[NUM_PREDICTORS+1];
// 	newInstance[0] = 1.0;
// 	for (int i = 1; i <= SELECTED_ATT_SIZE; i++){
// 		if (m_SelectedAttributes[i] <= CLASS_INDEX) {
// 			newInstance[i] = instance[m_SelectedAttributes[i-1]];
// 		}
// 		else {
// 			newInstance[i] = instance[m_SelectedAttributes[i]];
// 		}
// 	}
// 	float v[NUM_CLASSES] = {0};
// 	for (int i = 0; i < NUM_CLASSES-1; i++) {
// 		for (int j = 0; j <= NUM_PREDICTORS; j++) {
// 			v[i] += m_Par[j][i] * newInstance[j];
// 		}
// 	}
// 	v[NUM_CLASSES-1] = 0;
// 	for (int i = 0; i < NUM_CLASSES; i++) {
// 		float acc = 0.0;
// 		for (int j = 0; j < NUM_CLASSES-1; j++) {
// 			acc += exp(v[j]-v[i]);
// 		}
// 		prob[i] = 1.0 / (acc + exp(-v[i]));
// 	}
// 	int indexMax = 0;
// 	for (int i = 1; i < NUM_CLASSES; i++) {
// 		if (prob[i] > prob[indexMax]) {
// 			indexMax = i;
// 		}
// 	}
// 	return indexMax;
// }
