//
// #include <Arduino.h>
//
// #define INPUT_SIZE 64
// #define NUM_CLASSES 4
// #define CLASS_INDEX 64
//
// /* Instance array must be global
//  * Attributes MUST be sorted in instance array in the following order:
//  * mean_vel
//  * std_vel
//  * temp_ste
//  * temp_mag
//  * temp_roms
//  * temp_mean
//  * temp_tc
//  * temp_zcr
//  * temp_itv
//  * temp_var
//  * temp_std
//  * temp_skewness
//  * temp_kurtosis
//  * temp_ce
//  * temp_ce_norm
//  * temp_crest
//  * temp_max2min
//  * temp_mag2rms
//  * temp_rms2
//  * temp_rssl
//  * temp_mnp
//  * temp_adp
//  * temp_ety
//  * temp_md
//  * temp_iqr2
//  * spec_f0
//  * spec_ste
//  * spec_mag
//  * spec_sc
//  * spec_si
//  * spec_sim
//  * spec_sfm
//  * spec_flux
//  * spec_sro
//  * spec_var
//  * spec_std
//  * spec_skw
//  * spec_kts
//  * spec_max2min
//  * spec_mag2rms
//  * spec_mnp
//  * spec_adp
//  * spec_ety
//  * spec_cov1
//  * spec_cov2
//  * spec_cov3
//  * spec_peaks1
//  * spec_peaks2
//  * spec_peaks3
//  * spec_peaks4
//  * spec_peaks5
//  * spec_peaks6
//  * spec_peaks7
//  * spec_peaks8
//  * spec_peaks9
//  * spec_peaks10
//  * spec_peaks11
//  * spec_peaks12
//  * spec_power1
//  * spec_power2
//  * spec_power3
//  * spec_power4
//  * spec_power5
//  * spec_iqr2
//  */
// float instance[INPUT_SIZE+1];
// const float minArray[65] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0128230145, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0005758531, 0.0, 0.0, 0.0005728833, 0.0, 0.0005944188, 0.0, 0.0, 0.0, 0.0010610163, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0046185893, 0.0010619198, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0057471264, 0.0001443958, 0.0001175916, 0.0003958928, 0.0, 0.0001136335, 0.000381342, 0.0, 0.0001693928, 0.0042022041, 0.001898258, 0.0007797373, 0.0028800933, NAN};
// const float maxArray[65] = {0.9927322422, 0.5474943496, 0.7419565935, 0.8696876224, 0.8470058224, 1.0, 0.9522261647, 1.0, 1.0, 0.7419565935, 0.8470058224, 0.8753382844, 0.8770041684, 0.7565887579, 0.7565887579, 1.0, 1.0, 1.0, 0.8470058224, 0.8470058224, 1.0, 1.0, 0.9926952644, 0.9856473091, 0.8332394222, 1.0, 0.7762734882, 0.9306246383, 1.0, 1.0, 1.0, 1.0, 0.6371975221, 1.0, 0.5784216783, 0.7375517773, 1.0, 1.0, 0.9787314512, 1.0, 1.0, 1.0, 0.9992054648, 0.7419565935, 1.0, 0.880522162, 1.0, 1.0, 0.975308642, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.6938633874, 0.6694652049, 1.0, 1.0, 0.9286117165, 1.0, 1.0, 0.9951119611, 0.6925718825, 0.0};
//
//
// const float **m_sparseWeights[4];
//
// const float *tmp0_sparseWeights1[1];
// const float tmp1_sparseWeights1_0[65] = {64, 2.4344166134430596, -0.4049579691716694, -0.9590689276369396, -0.6080619167482402, -0.7836298407737785, 0.2812972492962525, -0.5733442739453076, 0.45511831200789177, -0.17316133134780196, -0.9590689276369396, -0.7836298407737785, -0.00235699045933501, 0.13277622198404693, -1.1914824685219403, -1.1914824685219403, 0.3394523598381862, -0.17316133134780196, 0.7285607253236439, -0.7836298407737785, -0.7836298407737785, 0.6727601281619054, -0.5670544439029981, -0.38579464053440726, 1.2766679928136218, -0.21117493732947495, 0.15773906053312434, -0.369633994620032, -0.17235718616590784, -0.48588501677617524, -0.004038790092993654, 0.06383611112583473, -0.12269326794169409, 0.2936452937285456, 0.3111707575505554, -0.2265193076602587, 0.054440338602697265, 0.08682655914451523, 0.11586363735100091, 0.04302899357379738, -0.0338276323643917, 0.05287319782630015, -0.31758987430573504, 0.15989606535749967, -0.9590689276369396, -0.6636010155032659, -1.1343881410568057, 0.5815590038982592, 0.3806192673834274, 0.5069609767501712, -0.2549857732895316, 0.5760388155880952, -0.34744586465156124, -0.6693498876657359, 0.40262830554701046, 0.369264947797467, 0.08808807687153439, 0.483614068954988, -0.2991620840930186, -0.05951800160533021, 0.8760970605170546, 0.37444867436116674, -0.13744920833481303, -1.0307424553004754, 0.19658870270026318};
//
// const float *tmp0_sparseWeights2[2];
// const float tmp1_sparseWeights2_0[65] = {64, 1.9461672332085673, -0.22645407685703295, -0.7822070772003322, -0.275749473498366, -0.7667609647239473, 0.12922599133107274, -0.5025073866482813, 0.31271667830655203, -0.7539729663080879, -0.7822070772003322, -0.7667609647239473, -0.5542080237072112, -0.2088801537537673, -0.8913068539331517, -0.8913068539331519, -0.6680477291108237, -0.7539729663080879, -0.35729998582961753, -0.7667609647239473, -0.7667609647239473, 0.38460259089994087, -0.24473194323306752, 1.072015801185879, 1.7341199614762453, 0.5649972799756539, -0.05348336845826706, -0.36661114166461994, -0.3737778744200909, -0.24745178554467126, -0.27918583715600975, 0.2826410790802141, -0.03582913212964819, -0.1282826804948651, 0.341340561338964, -0.28362898521084795, -0.26503563903345695, 0.045015895810732814, -0.007372766104664672, 0.059546090405255735, 0.08015307195924767, 0.16353267859287263, -0.10704975065633773, -0.1171949775356166, -0.7822070772003322, 0.34981505059709056, -0.19355826531464582, 0.6311565983971281, 0.09103145121341526, 0.24007110217210328, 0.06818829640363544, 0.16691760494271224, -0.11670287968662278, -0.09704477662017488, -0.025074185918210874, 0.06749184709807489, 0.5839865725775881, -0.15050126102067105, -0.22819583297404059, -0.02224942703798703, 0.41287985765765417, -0.06117549205853591, -0.7464113863353465, -0.2384507609385956, -0.3486977346867881};
// const float tmp1_sparseWeights2_1[65] = {64, 3.2521891068017155, -0.05149951200075724, -1.0345492674756738, 0.7690579263097127, -1.188712509702072, 0.4908583506743508, -1.6969682131924892, 1.9186601837831776, -1.8215174644885352, -1.0345494397229476, -1.188712750550475, -2.395791009816013, -1.2588459281002238, -1.6010270341053974, -1.601433348231518, -2.5361931351101346, -1.8215174644885352, -0.7211797532806026, -1.188712509702072, -1.188472085853009, -0.143728111836975, 0.9241050671224859, 3.9270553561994, 2.5561837441015665, 3.6296556960932946, 0.2589826053002797, -0.5347003952197263, -0.8025481500770428, -0.9834810834290546, -0.7949122216499886, 0.6740499124309123, -0.17770995944792026, -0.38848998762573705, 0.41372207518332654, -0.2556773574139831, -0.35031004197003063, -0.09198468338300846, -0.8315717002137049, -0.3994704086478596, -0.1314462574458621, 0.4903656513394924, -0.19590284974580272, -0.8131264687493044, -1.0343775695608408, 0.32978909438249165, 0.02594279533767231, -0.11815713253956875, 0.6569596683653027, 0.48496693588507855, 0.8747414012026024, -0.014415445947480867, -0.5297527426886027, 0.04359307062033159, -0.5767069920897578, 0.19803112515741045, 0.09739496050204158, -0.2716356107328957, 1.0464551888885987, -1.4783099378539026, 0.1965029678842436, -0.6056804966553787, -0.8352314679246063, -0.9723210879143749, -0.48736895669681596};
//
// const float *tmp0_sparseWeights3[3];
// const float tmp1_sparseWeights3_0[65] = {64, -0.4782538854664601, 0.20678342958908713, -0.32827097810314926, -0.4131652944298328, -0.41641078566928297, 0.20709657110675608, -0.07330811199330885, 0.2937037869420824, -0.2627867454796842, -0.32827097810314926, -0.41641078566928297, -0.12126865586444543, -0.03480007489521634, -0.49673910719770636, -0.49673910719770636, -0.14005800442060146, -0.2627867454796842, -0.1340793869317186, -0.41641078566928297, -0.41641078566928297, 0.18941174050217283, -0.19882854454959503, 0.1870856062840485, 0.11356735680215967, -0.39393679950541827, 0.4286117150586278, -0.09963242011742987, -0.203843526646729, -0.033082009115871135, -0.2561025039544629, 0.10990113821381506, -0.1070012406190365, -0.3550081972132661, -0.13772104387565914, -0.07268753385304674, -0.14066868441434538, 0.13413834436774738, 0.05622758243186111, -0.013466574221559165, 0.1616287780796256, -0.2549641658004954, 0.27763544914441296, -0.23157175422946083, -0.32827097810314926, -0.1903888590549227, -0.020400290088141957, 0.6705313761030816, 0.15840441238447242, 0.14200855693056386, 0.15659489137933322, 0.046238794035727115, -0.10537574940589628, -0.15959361844471012, -0.02783329747162449, 0.15422755022008283, 0.054659312328182504, -0.0358222332683984, -0.10618370339935503, -0.0469979943795185, 0.3385575141903973, -0.18775635098374766, -0.28520582980075393, -0.3473394278887191, -0.2675390575774834};
// const float tmp1_sparseWeights3_1[65] = {64, -1.5128021892404409, 0.19628028287462498, -0.1164682640951585, -0.22524742954124338, -0.09584364039610602, 0.016026683865283272, -0.352898472646789, 0.6872868117770181, -0.1561451799750367, -0.11646826409515855, -0.09584364039610602, -0.09630804109226318, -0.010461984296735918, -0.4146362903649084, -0.4146362903649085, -0.4400301616453127, -0.1561451799750367, -0.40039258738343303, -0.09584364039610602, -0.09584364039610602, -0.019376463799746512, -0.011431104360992312, 0.2701690096206278, 0.3535021302947134, -0.3304445303559381, 0.25183062851560595, -0.11003519511460644, -0.24888841526915823, -0.02586018863910944, -0.38789688786353976, 0.04941098589124959, -1.0205168760206274, -0.2851854252450088, -0.4104337181414164, -0.050636131051690916, -0.006291330183235372, 0.235154025282768, 0.0544952380018143, 0.03518792138961757, 0.22423205431147156, 0.18720347126365489, -0.2459642871865536, -0.41158465094532026, -0.11646826409515855, 0.26623668003335266, 0.4495338096527812, 1.3388135470548912, 0.4878607607792938, 0.3512960051055981, 0.19944418072406764, 0.05469519543898819, -0.061000635563420044, -0.175804722152933, 0.05900595858643955, -0.183696554418158, -0.04380877965147173, 0.06765192647119084, -0.22081648182190924, 0.004271765972443533, 1.2061108259100364, -0.21508230064939582, -0.4263602964722633, -0.3052307501141644, -0.30081531498563824};
// const float tmp1_sparseWeights3_2[65] = {64, -1.7320045452961321, 0.5159660144412993, 0.031716603579048305, 0.00892646155822009, 0.31931688244297723, -0.30552081265887543, 0.0696424871886096, 0.4266240934555506, 0.22130262084000737, 0.031716603579048305, 0.3193168824429771, 0.08510170658116388, 0.13823171717668542, -0.263978883242422, -0.263978883242422, 0.11257487776800727, 0.22130262084000737, -0.10375119278604704, 0.31931688244297723, 0.3193168824429771, -0.20466076402760025, 0.23570880619648926, -0.5888253492727212, -0.05297908619830609, -0.4031640639445415, 0.004119903002323639, -0.06077855891022838, -0.11066043643559227, -0.2295424382438557, -0.06457292416222456, -0.37626661057279537, -0.28006543938025397, -0.37501610140136965, 0.012295966445946419, 0.13903918102981508, 0.23618334465787652, 0.20851817668022365, 0.052402225388726, 0.16455651775381389, -0.015153456991732229, -0.027067028203280635, -0.05255979818508404, -0.13561581527834907, 0.031716603579048305, 0.15114020160491853, 0.1410776710063467, 0.4515372096582207, 0.030354382072235758, -0.026045862433975293, -0.19242431965107418, -0.16544581457853635, -0.03644774114516013, -0.007715550703203833, 0.11757215753779132, 0.034921036080693225, 0.2368833514708474, 0.09350970732021932, 0.029763846056125476, 0.4256881552674865, 1.2710861409600527, -0.37569360795320056, -0.18594176226362105, -0.27735594692750865, -0.2390880691647978};
//
// const int **m_sparseIndices[4];
//
// const int *tmp0_sparseIndices1[1];
// const int tmp1_sparseIndices1_0[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
//
// const int *tmp0_sparseIndices2[2];
// const int tmp1_sparseIndices2_0[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
// const int tmp1_sparseIndices2_1[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
//
// const int *tmp0_sparseIndices3[3];
// const int tmp1_sparseIndices3_0[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
// const int tmp1_sparseIndices3_1[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
// const int tmp1_sparseIndices3_2[64] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63};
//
// const float *m_b[4];
// const float tmp_m_b1[1] = {-3.7014769828823413};
// const float tmp_m_b2[2] = {-0.7718371298089852, 2.327380058763995};
// const float tmp_m_b3[3] = {-1.7254365236370113, -0.2695207825492054, -0.05658624167841629};
//
// float SVMOutput(int i, int j){
// 	float result = 0.0;
// 	for (int p1 = 0; p1 < m_sparseWeights[i][j][0]; p1++){
// 		int p2 = m_sparseIndices[i][j][p1];
// 		if (p2 != CLASS_INDEX){
// 			result += instance[p2] * m_sparseWeights[i][j][p1+1];
// 		}
// 	}
// 	result -= m_b[i][j];
// 	return result;
// }
//
// /* Function classify description:
//  * Instance array must be initializated, with appropriated attributes, before calling this function
//  * Output number 0 means that the instance was classified as ruim
//  * Output number 1 means that the instance was classified as regular
//  * Output number 2 means that the instance was classified as bom
//  * Output number 3 means that the instance was classified as obstaculos
//  */
// int classify(){
// 	for (int i = 0; i <= INPUT_SIZE; i++){
// 		if (maxArray[i] == minArray[i] || minArray[i] == NAN){
// 			instance[i] = 0;
// 		}
// 		else{
// 			instance[i] = (instance[i] - minArray[i]) / (maxArray[i] - minArray[i]);
// 		}
// 	}
// 	int result[NUM_CLASSES] = {0};
// 	for (int i = 1; i < NUM_CLASSES; i++){
// 		for (int j = 0; j < i; j++){
// 			float output = SVMOutput(i, j);
// 			if (output > 0){
// 				result[i]++;
// 			}
// 			else{
// 				result[j]++;
// 			}
// 		}
// 	}
// 	int indMax = 0;
// 	for (int i = 1; i < NUM_CLASSES; i++){
// 		if (result[i] > result[indMax]){
// 			indMax = i;
// 		}
// 	}
// 	return indMax;
// }
//
// void initConnections(){
//
// 	m_sparseWeights[0] = NULL;
//
// 	tmp0_sparseWeights1[0] = tmp1_sparseWeights1_0;
// 	m_sparseWeights[1] = tmp0_sparseWeights1;
//
// 	tmp0_sparseWeights2[0] = tmp1_sparseWeights2_0;
// 	tmp0_sparseWeights2[1] = tmp1_sparseWeights2_1;
// 	m_sparseWeights[2] = tmp0_sparseWeights2;
//
// 	tmp0_sparseWeights3[0] = tmp1_sparseWeights3_0;
// 	tmp0_sparseWeights3[1] = tmp1_sparseWeights3_1;
// 	tmp0_sparseWeights3[2] = tmp1_sparseWeights3_2;
// 	m_sparseWeights[3] = tmp0_sparseWeights3;
//
//
// 	m_sparseIndices[0] = NULL;
//
// 	tmp0_sparseIndices1[0] = tmp1_sparseIndices1_0;
// 	m_sparseIndices[1] = tmp0_sparseIndices1;
//
// 	tmp0_sparseIndices2[0] = tmp1_sparseIndices2_0;
// 	tmp0_sparseIndices2[1] = tmp1_sparseIndices2_1;
// 	m_sparseIndices[2] = tmp0_sparseIndices2;
//
// 	tmp0_sparseIndices3[0] = tmp1_sparseIndices3_0;
// 	tmp0_sparseIndices3[1] = tmp1_sparseIndices3_1;
// 	tmp0_sparseIndices3[2] = tmp1_sparseIndices3_2;
// 	m_sparseIndices[3] = tmp0_sparseIndices3;
//
//
// 	m_b[0] = NULL;
// 	m_b[1] = tmp_m_b1;
// 	m_b[2] = tmp_m_b2;
// 	m_b[3] = tmp_m_b3;
// }
